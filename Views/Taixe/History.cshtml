@model IEnumerable<WedNightFury.Models.Order>

@{
    ViewData["Title"] = "L·ªãch s·ª≠ giao h√†ng";
}

<div class="container mt-4">

    <h3 class="fw-bold text-primary mb-4">üìú L·ªäCH S·ª¨ GIAO H√ÄNG</h3>

    <form method="get" class="row g-3 mb-4">

        <div class="col-md-3">
            <label class="form-label">Ng√†y giao</label>
            <input type="date" name="day" value="@ViewBag.Day" class="form-control" />
        </div>

        <div class="col-md-3">
            <label class="form-label">Tr·∫°ng th√°i</label>
            <select name="status" class="form-select">
    <option value="all" selected="@(ViewBag.Status == "all")">T·∫•t c·∫£</option>
    <option value="done" selected="@(ViewBag.Status == "done")">Giao th√†nh c√¥ng</option>
    <option value="failed" selected="@(ViewBag.Status == "failed")">Giao th·∫•t b·∫°i</option>
</select>
        </div>

        <div class="col-md-2 d-flex align-items-end">
            <button class="btn btn-primary w-100">L·ªçc</button>
        </div>
    </form>

    @if (Model.Any())
    {
        <table class="table table-hover table-bordered align-middle">
            <thead class="table-light">
                <tr>
                    <th>M√£ ƒë∆°n</th>
                    <th>Ng∆∞·ªùi nh·∫≠n</th>
                    <th>ƒê·ªãa ch·ªâ</th>
                    <th>COD</th>
                    <th>Th·ªùi gian giao</th>
                    <th>Tr·∫°ng th√°i</th>
                    <th></th>
                </tr>
            </thead>

            <tbody>
                @foreach (var o in Model)
                {
                    <tr>
                        <td class="fw-bold text-primary">#@o.Code</td>
                        <td>@o.ReceiverName</td>
                        <td>@o.ReceiverAddress</td>

                        <td>@o.CodAmount.ToString("N0") ƒë</td>

                        <td>
                            @if (o.DeliveredAt != null)
                            {
                                @o.DeliveredAt.Value.ToString("dd/MM/yyyy HH:mm")
                            }
                        </td>

                        <td>
                            @if (o.Status == "done")
                            {
                                <span class="badge bg-success">Th√†nh c√¥ng</span>
                            }
                            else
                            {
                                <span class="badge bg-danger">Th·∫•t b·∫°i</span>
                            }
                        </td>

                        <td>
                            <a asp-action="StopDetail" asp-route-id="@o.Id" class="btn btn-sm btn-outline-primary">
                                Chi ti·∫øt
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <div class="alert alert-info text-center">
            Kh√¥ng c√≥ d·ªØ li·ªáu.
        </div>
    }

</div>
