@{
    Layout = "~/Views/Shared/_LayoutDriver.cshtml";
    ViewData["Title"] = "H·ªó tr·ª£ t√†i x·∫ø";
}

<div class="container mt-4 mb-5" style="max-width: 760px;">

    <!-- HEADER -->
    <div class="card shadow-sm border-0 mb-4 p-4 rounded-4">
        <div class="d-flex align-items-center">
            <div class="rounded-circle bg-primary text-white p-3 me-3">
                <i class="bi bi-headset fs-3"></i>
            </div>
            <div>
                <h4 class="fw-bold mb-1">H·ªó tr·ª£ t√†i x·∫ø</h4>
                <small class="text-muted">Ch√∫ng t√¥i lu√¥n s·∫µn s√†ng gi√∫p b·∫°n!</small>
            </div>
        </div>
    </div>

    <!-- ALERT -->
    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show shadow-sm" role="alert">
            <i class="bi bi-check-circle-fill me-2"></i> @TempData["Success"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }
    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show shadow-sm" role="alert">
            <i class="bi bi-exclamation-circle-fill me-2"></i> @TempData["Error"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    <!-- QUICK SUPPORT BUTTONS -->
    <div class="card border-0 shadow-sm rounded-4 p-4 mb-4">
        <label class="fw-bold mb-2">üìå Ch·ªçn nhanh v·∫•n ƒë·ªÅ:</label>

        <div class="d-flex flex-wrap gap-2">
            <button type="button" class="btn btn-outline-primary quick-btn">
                M·∫•t ƒë∆°n h√†ng
            </button>

            <button type="button" class="btn btn-outline-primary quick-btn">
                GPS kh√¥ng ho·∫°t ƒë·ªông
            </button>

            <button type="button" class="btn btn-outline-primary quick-btn">
                Kh√¥ng li√™n h·ªá ƒë∆∞·ª£c kh√°ch
            </button>

            <button type="button" class="btn btn-outline-primary quick-btn">
                Sai ƒë·ªãa ch·ªâ giao h√†ng
            </button>

            <button type="button" class="btn btn-outline-primary quick-btn">
                S·ª± c·ªë giao h√†ng
            </button>

            <button type="button" class="btn btn-outline-primary quick-btn">
                Khi·∫øu n·∫°i ph√≠
            </button>

            <button type="button" class="btn btn-outline-danger quick-btn fw-bold">
                üö® H·ªó tr·ª£ kh·∫©n c·∫•p
            </button>
        </div>
    </div>

    <!-- FORM -->
    <div class="card border-0 shadow-sm rounded-4 p-4">
        <h5 class="fw-bold mb-3">üì© N·ªôi dung y√™u c·∫ßu h·ªó tr·ª£</h5>

        @* d√πng asp-action + AntiForgeryToken *@
        <form asp-action="Create" asp-controller="Support" method="post">
            @Html.AntiForgeryToken()

            <textarea class="form-control rounded-3 p-3"
                      name="message"
                      id="supportMessage"
                      rows="5"
                      placeholder="Nh·∫≠p n·ªôi dung h·ªó tr·ª£..."
                      style="resize:none;"></textarea>

            <button class="btn btn-primary w-100 mt-3 py-3 rounded-3 fw-bold">
                <i class="bi bi-send-fill me-2"></i> G·ª≠i y√™u c·∫ßu
            </button>
        </form>
    </div>

    <div class="text-center mt-3 text-muted">
        <small>‚è≥ Th·ªùi gian ph·∫£n h·ªìi trung b√¨nh: 5‚Äì10 ph√∫t</small>
    </div>

    <!-- HISTORY BUTTON -->
    <div class="card shadow-sm border-0 rounded-4 p-3 mt-4">
        <a href="/Support/History" class="btn btn-outline-dark w-100 py-2 rounded-3 fw-bold">
            <i class="bi bi-journal-text me-2"></i> Nh·∫≠t k√Ω h·ªó tr·ª£ & ph·∫£n h·ªìi
        </a>
    </div>

</div>

<!-- JS: Auto fill -->
<script>
    document.querySelectorAll(".quick-btn").forEach(btn => {
        btn.addEventListener("click", () => {
            const text = btn.innerText;
            const textarea = document.getElementById("supportMessage");
            textarea.value = text + ": ";
            textarea.focus();
        });
    });
</script>
